{"version":3,"file":"static/js/116.9b962f0a.chunk.js","mappings":"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","sources":["components/FavoriteRecipes/FavoriteRecipes.styled.jsx","components/FavoriteRecipes/FavoriteRecipes.context.jsx","components/FavoriteRecipes/FavoriteRecipesList/FavoriteRecipes.styled.jsx","components/FavoriteRecipes/FavoriteRecipesList/FavoriteRecipesItem/FavoriteRecipesItem.props.js","components/FavoriteRecipes/FavoriteRecipesList/FavoriteRecipesItem/FavoriteRecipesItem.styled.jsx","components/FavoriteRecipes/FavoriteRecipesList/FavoriteRecipesItem/FavoriteRecipesItem.jsx","components/FavoriteRecipes/FavoriteRecipesList/FavoriteRecipesList.props.js","components/FavoriteRecipes/FavoriteRecipesList/FavoriteRecipesList.jsx","components/FavoriteRecipes/FavoriteRecipes.jsx","pages/FavoritePage/FavoritePage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Container } from 'components/common/Container.styled';\n\nexport const FavoriteRecipesSection = styled.section`\n  --section-padding-top: 50px;\n  --section-padding-bottom: 100px;\n  padding-top: var(--section-padding-top);\n  padding-bottom: var(--section-padding-bottom);\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.tablet}) {\n    --section-padding-top: 72px;\n    --section-padding-bottom: 200px;\n  }\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.desktop}) {\n    --section-padding-top: 100px;\n    --section-padding-bottom: 100px;\n  }\n`;\n\nexport const FavoriteRecipesContainer = styled(Container)``;\n\nexport const FavoriteRecipesTitle = styled.h2`\n  --title-margin-bottom: 50px;\n\n  margin-bottom: var(--title-margin-bottom);\n\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 1;\n  letter-spacing: -0.02em;\n  font-feature-settings: 'liga' off;\n\n  color: ${({ theme }) => theme.colors.gray[400]};\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.tablet}) {\n    --title-margin-bottom: 100px;\n\n    font-size: 32px;\n  }\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.desktop}) {\n    font-size: 44px;\n  }\n`;\n","import { createContext, useContext } from 'react';\n\nconst FavoriteRecipesContext = createContext({});\n\nexport function useFavoriteRecipesContext() {\n  const data = useContext(FavoriteRecipesContext);\n  return data;\n}\n\nexport default function FavoriteRecipesContextProvider({ children, value }) {\n  return (\n    <FavoriteRecipesContext.Provider value={value}>\n      {children}\n    </FavoriteRecipesContext.Provider>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const FavoriteRecipesListStyled = styled.ul`\n  --list-gap: 18px;\n\n  display: flex;\n  flex-direction: column;\n  gap: var(--list-gap);\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.tablet}) {\n    --list-gap: 40px;\n  }\n\n  @media screen and (min-width: ${props => props.theme.breakpoints.desktop}) {\n    --list-gap: 50px;\n  }\n`;\n","import PropTypes from 'prop-types';\n\nexport const FavoriteRecipesItemPropTypes = {\n  recipe: PropTypes.shape({\n    _id: PropTypes.string.isRequired,\n    thumb: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    time: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const FavoriteRecipesItemStyled = styled.li``;\n","import RecipeCard from 'components/common/RecipeCard';\nimport { routes } from 'constants/routes';\nimport { FavoriteRecipesItemPropTypes } from './FavoriteRecipesItem.props';\nimport { FavoriteRecipesItemStyled } from './FavoriteRecipesItem.styled';\nimport { useFavoriteRecipesContext } from 'components/FavoriteRecipes/FavoriteRecipes.context';\n\nexport default function FavoriteRecipesItem({ recipe }) {\n  const { removeRecipeFromFavorite } = useFavoriteRecipesContext();\n\n  const removeHandler = async () => {\n    await removeRecipeFromFavorite(recipe._id);\n  };\n\n  return (\n    <FavoriteRecipesItemStyled>\n      <RecipeCard\n        recipe={recipe}\n        onDelete={removeHandler}\n        to={`${routes.RECIPE_PAGE}/${recipe._id}`}\n      />\n    </FavoriteRecipesItemStyled>\n  );\n}\n\nFavoriteRecipesItem.propTypes = FavoriteRecipesItemPropTypes;\n","import PropTypes from 'prop-types';\nimport { FavoriteRecipesItemPropTypes } from './FavoriteRecipesItem/FavoriteRecipesItem.props';\n\nexport const FavoriteRecipesListPropTypes = {\n  recipes: PropTypes.arrayOf(\n    PropTypes.shape({\n      ...FavoriteRecipesItemPropTypes.recipe,\n    })\n  ).isRequired,\n};\n","import { FavoriteRecipesListStyled } from './FavoriteRecipes.styled';\nimport FavoriteRecipesItem from './FavoriteRecipesItem/FavoriteRecipesItem';\nimport { FavoriteRecipesListPropTypes } from './FavoriteRecipesList.props';\n\nexport default function FavoriteRecipesList({ recipes }) {\n  return (\n    <FavoriteRecipesListStyled>\n      {recipes?.map(recipe => (\n        <FavoriteRecipesItem key={recipe._id} recipe={recipe} />\n      ))}\n    </FavoriteRecipesListStyled>\n  );\n}\n\nFavoriteRecipesList.propTypes = FavoriteRecipesListPropTypes;\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport useAppPagination from 'hooks/useAppPagination';\nimport { processingError } from 'helpers';\nimport { searchRecipesMessage } from 'constants/message';\nimport NotFoundRecipe from 'components/NotFoundRecipe';\n\nimport {\n  FavoriteRecipesContainer,\n  FavoriteRecipesSection,\n  FavoriteRecipesTitle,\n} from './FavoriteRecipes.styled';\nimport FavoriteRecipesContextProvider from './FavoriteRecipes.context';\nimport {\n  deleteRecipeFromFavoriteService,\n  getFavoritesService,\n} from 'services/recipe.service';\nimport FavoriteRecipesList from './FavoriteRecipesList';\nimport MainLoader from 'components/MainLoader/MainLoader';\n\nexport default function FavoriteRecipes() {\n  const pagination = useRef({\n    page: 1,\n    totalPages: 1,\n  });\n  const [recipesList, setRecipesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const getRecipes = useCallback(async (p = 1, l = 4) => {\n    setIsLoading(true);\n\n    try {\n      const { data } = await getFavoritesService(p, l);\n      const { recipes, limit, total, page } = data;\n\n      pagination.current.totalPages = Math.ceil(total / limit);\n      pagination.current.page = page;\n\n      setRecipesList(recipes);\n    } catch (error) {\n      processingError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const removeRecipeFromFavorite = useCallback(\n    async recipeId => {\n      const page =\n        recipesList.length === 1\n          ? pagination.current.page === 1\n            ? 1\n            : pagination.current.page - 1\n          : pagination.current.page;\n      await deleteRecipeFromFavoriteService(recipeId);\n\n      await getRecipes(page);\n    },\n    [getRecipes, recipesList]\n  );\n\n  const { Component: Pagination } = useAppPagination({\n    totalPages: pagination.current.totalPages,\n    page: pagination.current.page,\n    onFetch: getRecipes,\n  });\n\n  useEffect(() => {\n    getRecipes();\n  }, [getRecipes]);\n\n  return (\n    <FavoriteRecipesSection>\n      <FavoriteRecipesContainer>\n        <FavoriteRecipesTitle>Favorites</FavoriteRecipesTitle>\n        <FavoriteRecipesContextProvider value={{ removeRecipeFromFavorite }}>\n          {isLoading ? (\n            <MainLoader />\n          ) : recipesList.length > 0 ? (\n            <FavoriteRecipesList recipes={recipesList} />\n          ) : (\n            <NotFoundRecipe message={searchRecipesMessage.favoritesNotFound} />\n          )}\n        </FavoriteRecipesContextProvider>\n        {pagination.current.totalPages > 1 && <Pagination />}\n      </FavoriteRecipesContainer>\n    </FavoriteRecipesSection>\n  );\n}\n","import React from 'react';\n\nimport FavoriteRecipes from 'components/FavoriteRecipes/FavoriteRecipes';\nimport { useScrollToTop } from 'hooks/useScrollToTop';\n\nexport default function FavoritePage() {\n  useScrollToTop();\n  return (\n    <>\n      <FavoriteRecipes />\n    </>\n  );\n}\n"],"names":["FavoriteRecipesSection","styled","section","_templateObject","_taggedTemplateLiteral","props","theme","breakpoints","tablet","desktop","FavoriteRecipesContainer","Container","_templateObject2","FavoriteRecipesTitle","h2","_templateObject3","_ref","colors","gray","FavoriteRecipesContext","createContext","FavoriteRecipesContextProvider","children","value","_jsx","Provider","FavoriteRecipesListStyled","ul","FavoriteRecipesItemPropTypes","PropTypes","_id","isRequired","thumb","title","time","description","FavoriteRecipesItemStyled","li","FavoriteRecipesItem","recipe","removeRecipeFromFavorite","useContext","RecipeCard","onDelete","async","to","concat","routes","RECIPE_PAGE","FavoriteRecipesList","recipes","map","FavoriteRecipes","pagination","useRef","page","totalPages","recipesList","setRecipesList","useState","isLoading","setIsLoading","getRecipes","useCallback","p","arguments","length","undefined","l","data","getFavoritesService","limit","total","current","Math","ceil","error","processingError","deleteRecipeFromFavoriteService","recipeId","Component","Pagination","useAppPagination","onFetch","useEffect","_jsxs","MainLoader","NotFoundRecipe","message","searchRecipesMessage","favoritesNotFound","FavoritePage","useScrollToTop","_Fragment"],"sourceRoot":""}